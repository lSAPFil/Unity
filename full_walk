using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class dskfhdkjs : MonoBehaviour
{
    /* public Rigidbody2D rd;
        public Vector2 vectormov;
        public Animator anim;
        public float speed = 10f;
        public bool Right = false;
        void Start()
        {
            rd = GetComponent<Rigidbody2D>();
            anim = GetComponent<Animator>();
        }

        void Update()
        {
            walk();
            Reflect();
            if(Input.GetKeyDown("space"))
            {

                rd.AddForce(new Vector2(1,1) * jumpForce);
                isGrounded = false;
            }
        }

        void FixedUpdate()
        {
            rd.MovePosition(rd.position + vectormov * Time.fixedDeltaTime);

            isGrounded = Physics2D.OverlapPoint(grounCheck.position, whatIsGround);
            float x = Input.GetAxis("Horizontal");
            Vector3 move = new Vector3(x * speed, rd.velocity.y, 0f);
            rd.velocity=move;

        }
        void walk()
        {
            Vector2 vector2 = new Vector2();
            vector2.x = Input.GetAxis("Horizontal");
            vectormov = vector2.normalized * speed;

            anim.SetFloat("move_x", Mathf.Abs(vector2.x));

        }
        void Reflect()
        {
            if((vectormov.x<0 && !Right) ||(vectormov.x>0 && Right))
            {
                transform.localScale *= new Vector2(-1, 1);
                Right = !Right;
            }
        }
        public bool isGrounded;
        public Transform grounCheck;
        public float jumpForce=100f;
        public LayerMask whatIsGround;*/


    void Start()
    {
        rd = GetComponent<Rigidbody2D>();
        anim = GetComponent<Animator>();
    }

    public bool isGrounded;
    public Transform grounCheck;
    public float jumpForce = 10f;
    public LayerMask whatIsGround;
    public Rigidbody2D rd;
    public Vector2 vectormov;
    public Animator anim;
    public float speed = 10f;
    public bool Right = false;

    void Update()
    {

       // walk();

        //Reflect();

        if (Input.GetKeyDown("space"))
        {
            rd.AddForce(new Vector2(1, 2) * jumpForce);
            isGrounded = false;
        }
    }

    void FixedUpdate()
    {
        rd.MovePosition(rd.position + vectormov * Time.fixedDeltaTime);

        isGrounded = Physics2D.OverlapPoint(grounCheck.position, whatIsGround);
       

    }
    void walk()
    {
        Vector2 vector2 = new Vector2();
        vector2.x = Input.GetAxis("Horizontal");
        vectormov = vector2.normalized * speed;
        rd.MovePosition(rd.position + vectormov * Time.fixedDeltaTime);

        anim.SetFloat("move_x", Mathf.Abs(vector2.x));

    }



    void Reflect()
    {
        if ((vectormov.x < 0 && !Right) || (vectormov.x > 0 && Right))
        {
            transform.localScale *= new Vector2(-1, 1);
            Right = !Right;
        }
    }
}
